angular.module("westernWaterApp").service("LoadService",function(){this.data_load=function(a,b,c,d,e){a.graphloading=!0,a.graphloaded=!1,d3.json(b,function(b){a.map_data=b,d3.csv(c,function(b){a.stations=b,a.$apply()}),d3.csv(d,function(b){a.data=b,e||(a.graphloading=!1,a.graphloaded=!0),a.$apply()}),e&&(a.graphloading=!0,a.graphloaded=!1,d3.csv(e,function(b){a.snowdata=b,a.graphloading=!1,a.graphloaded=!0,a.$apply()})),a.$apply()})}}),angular.module("westernWaterApp").service("StatsService",function(){this.numFormat=function(a){return a.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}}),angular.module("westernWaterApp").service("tipService",function(){this.tipDiv=function(){var a=document.querySelectorAll(".tooltip");return a.length?d3.select(".tooltip"):d3.select("body").append("div").attr("class","tooltip").style("opacity",0)},this.tipShow=function(a,b){a.transition().duration(200).style("opacity",.9),a.html(b).style("top",d3.event.pageY-38+"px").style("left",d3.event.pageX-38+"px")},this.tipHide=function(a){a.transition().duration(500).style("opacity",0)}}),angular.module("westernWaterApp").service("chartService",function(){this.chart=function(a,b,c,d,e,f,g){var h=d3.select(a).append("svg").attr("width",c+d.left+d.right).attr("height",b+d.top+d.bottom);return h.append("g").attr("class","x axis").attr("transform","translate("+d.left+","+(b+d.top)+")").call(e),h.append("text").attr("x",c/1.5).attr("y",b+d.bottom).style("text-anchor","zs").text("Date"),h.append("g").attr("class","y axis").attr("transform","translate("+d.left+","+d.top+")").call(f),h.append("text").attr("transform","rotate(-90)").attr("x",-b/2).attr("y",6).attr("dy",".71em").style("text-anchor","end").text(g),h},this.legend=function(a,b,c){var d=document.querySelectorAll("#compare_legend .legend");if(!c||!d.length){var e,f,g;b?(e=["75%+","50%+","Less than 50%  ","Current Level Unavailable"],f=["green","#FCE883","red","gray"],g=450):(e=["Capacity","Avg Levels","Current Storage"],f=["green","#FCE883","steelblue"],g=300);var h=d3.select(a).append("svg").attr("width",g).attr("height",55).attr("class","legend"),i=0;h.selectAll("g").data(e).enter().append("g").attr("width",g).each(function(a,b){var c=d3.select(this);c.append("rect").attr("x",i).attr("y",15).attr("width",10).attr("height",10).style("fill",f[b]),c.append("text").attr("x",i+15).attr("y",25).attr("height",30).attr("width",50*a.length).text(a),i+=5*a.length+40})}},this.resColors=function(a){return a>=75?"green":a>=50?"#FCE883":50>a?"red":"lightgray"},this.focus=function(a,b){var c=a.append("g").attr("class","focus").style("display","none");return c.append("circle").attr("class","y0").attr("r",4.5),c.append("text").attr("class","y0").attr("x",9).attr("dy",".35em"),b||(c.append("circle").attr("class","y1").attr("r",4.5),c.append("text").attr("class","y1").attr("x",9).attr("dy",".35em")),c},this.graphPadding=function(){var a=moment().add(8,"month");return a.format("MM/YYYY")},this.rotate=function(){d3.selectAll("g.x text").attr("transform","rotate(35)").attr("dx",27).attr("dy",10)},this.histAvg=function(a,b){var c=d3.mean(a,function(a){return"map-graph"===b?+a.storage:+a.value});return a.forEach(function(a){a.mean=c}),a},this.displayMonth=function(){{var a=moment().subtract(1,"month");a.format("MM/YYYY")}return a.format("MMMM YYYY")},this.mapPctFull=function(a,b){var c=d3.nest().key(function(a){return a.reservoir}).map(a);return b.forEach(function(a){var b=_.last(c[a.reservoir]);void 0===b&&console.log(a.reservoir),a.pct_capacity=void 0!==b?b.pct_capacity:void 0,a.capacity=void 0!==b?b.capacity:void 0}),b},this.mapScale=function(a,b){var c;return c="CA"===b?[2,7]:[3,8],d3.scale.linear().domain(d3.extent(a,function(a){return.2*a.capacity})).range(c)}}),angular.module("westernWaterApp").directive("mapGraph",["tipService","StatsService","chartService",function(a,b,c){function d(d,e,f){var g={top:20,right:130,left:100,bottom:80},h=600-g.top-g.bottom,i=900-g.left-g.right,j=550-g.left-g.right,k=500-g.top-g.bottom,l=d3.time.format("%m/%Y").parse,m=a.tipDiv();d.$watchGroup(["map","stations","data"],function(d){function e(a){A.domain([d3.min(a,function(a){return l(a.date)}),d3.max(a,function(a){return l(c.graphPadding())})]),B.domain([1.2*d3.max(a,function(a){return a.capacity}),0]),d3.select("g.x").transition().duration(1e3).ease("sin-in-out").call(D),d3.select("g.y").transition().duration(1e3).ease("sin-in-out").call(E),d3.select("#storage").transition().duration(1e3).ease("sin-in-out").attr("d",F(a)),d3.select("#avg_storage").transition().duration(1200).ease("sin-in-out").attr("d",G(a)),d3.select("#capacity").transition().duration(1e3).ease("sin-in-out").attr("d",H(a));var d=a[0];d3.select("#reservoir").text(d.reservoir+", "+d.state),d3.selectAll("#all_res_avg").text(b.numFormat(a[0].mean.toFixed(1))),c.rotate()}function f(){z.attr("transform","translate("+d3.event.translate+")scale("+d3.event.scale+")")}function n(a){d3.event.sourceEvent.stopPropagation(),d3.select(this).attr("x",a.x=d3.event.x).attr("y",a.y=d3.event.y)}function o(){var a=A.invert(d3.mouse(this)[0]),c=C(datz,a,1),d=datz[c-1],e=datz[c];void 0===e&&(e=1/0);var f=a-d.date>e.date-a?e:d,h="translate("+(A(l(f.date))+g.left)+","+(B(f.storage)+g.top)+")";d3.select("#graph circle.y0").attr("transform",h),d3.select("#graph text.y0").attr("transform",h).tspans(["Date: "+f.date,"Vol: "+b.numFormat(f.storage)+" acre ft","Pct Full: "+f.pct_capacity+"%","Pct of Hist. Avg: "+(f.storage/f.mean*100).toFixed(1)+"%"]);var i="translate("+(A(l(f.date))+g.left)+","+(B(f.capacity)+g.top)+")";d3.select("#graph circle.y1").attr("transform",i),d3.select("#graph text.y1").attr("transform",i).tspans(["Date: "+f.date,"Capacity: "+b.numFormat(f.capacity)+" acre ft"],-15)}if(d[0]&&d[1]&&d[2]){var p=d[0],q=d[1],r=d[2];q=c.mapPctFull(r,q),q.sort(function(a,b){var c=+a.capacity,d=+b.capacity;return c>d?-1:d>c?1:0}),c.legend("#map_legend",!0);var s=c.displayMonth();d3.select("#map_month").html("("+s+")");var t=c.mapScale(r),u=d3.geo.albers().rotate([96,0]).center([-.6,38.7]).parallels([29.5,45.5]).scale(925).translate([i/2,h/2]).precision(.1),v=d3.geo.path().projection(u),w=r.filter(function(a){return"Shasta Dam"===a.reservoir});datz=c.histAvg(w,"map-graph");var x=d3.behavior.zoom().scaleExtent([1,10]).on("zoom",f),y=(d3.behavior.drag().origin(function(a){return a}).on("drag",n),d3.select("#map").append("svg").attr("height",h).attr("width",i).call(x)),z=y.append("g");z.selectAll("path").data(p.features).enter().append("path").attr("d",v),z.selectAll("circle").data(q).enter().append("circle").attr("class","map-circle").attr("cx",function(a){return u([a.lng,a.lat])[0]}).attr("cy",function(a){return u([a.lng,a.lat])[1]}).attr("r",function(a){return t(a.capacity)}).style("fill",function(a){return c.resColors(a.pct_capacity)}).on("click",function(a){var b=r.filter(function(b){return"Jackson Lake"===a.reservoir?b.reservoir===a.reservoir:b.reservoir===a.reservoir});datz=c.histAvg(b,"map-graph"),e(datz)}).on("mouseover",function(b){var c=b.reservoir;a.tipShow(m,c),d3.select(this).attr("r",function(a){return 1.5*t(a.capacity)})}).on("mouseout",function(b){a.tipHide(m),d3.select(this).attr("r",function(a){return t(a.capacity)})});var A=d3.time.scale().range([0,j]);A.domain([d3.min(datz,function(a){return l(a.date)}),d3.max(datz,function(a){return l(c.graphPadding())})]);var B=d3.scale.linear().domain([1.2*d3.max(datz,function(a){return a.capacity}),0]).range([0,k]),C=d3.bisector(function(a){return l(a.date)}).right,D=d3.svg.axis().scale(A).orient("bottom"),E=d3.svg.axis().scale(B).orient("left");d3.selectAll("#all_res_avg").text(b.numFormat(datz[0].mean.toFixed(1)));var F=d3.svg.line().x(function(a){return A(l(a.date))}).y(function(a){return B(a.storage)}),G=d3.svg.line().x(function(a){return A(l(a.date))}).y(function(a){return B(a.mean)}),H=d3.svg.line().x(function(a){return A(l(a.date))}).y(function(a){return B(a.capacity)});c.legend("#res_legend");var I=c.chart("#graph",k,j,g,D,E,"Acre Feet");c.rotate(),I.append("path").attr("d",F(datz)).attr("id","storage").attr("fill","none").attr("stroke","steelblue").attr("stroke-width",2).attr("transform","translate("+g.left+","+g.top+")");var J=c.focus(I);I.append("rect").attr("class","overlay").attr("width",j).attr("height",k).on("mouseover",function(){J.style("display",null)}).on("mouseout",function(){J.style("display","none")}).on("mousemove",o).attr("transform","translate("+g.left+","+g.top+")"),I.append("g").append("path").attr("d",G(datz)).attr("id","avg_storage").attr("fill","none").attr("stroke","#FCE883").attr("stroke-width",2).attr("stroke-dasharray",[5,5]).attr("transform","translate("+g.left+","+g.top+")"),I.append("g").append("path").attr("d",H(datz)).attr("id","capacity").attr("fill","none").attr("stroke","green").attr("stroke-width",2).attr("transform","translate("+g.left+","+g.top+")")}})}return{restrict:"C",link:d,scope:{map:"=",data:"=",stations:"="}}}]),angular.module("westernWaterApp").directive("totalsCharts",["tipService","StatsService","chartService",function(a,b,c){function d(a,d,e){var f={top:20,right:130,left:100,bottom:80},g=600-f.left-f.right,h=550-f.top-f.bottom,i=d3.time.format("%m/%Y").parse;c.legend("#compare_legend",!1,!0),a.$watchGroup(["data","state"],function(a){function d(a){function d(){var c=w.invert(d3.mouse(this)[0]),d=v(r,c,1),e=r[d-1],g=r[d];void 0===g&&(g=1/0);var h=c-e.key>g.key-c?g:e,j=_.filter(p,function(a){return a.key===h.key}),k="translate("+(w(i(h.key))+f.left)+","+(x(h.value)+f.top)+")";d3.select(a+" circle.y0").attr("transform",k),d3.select(a+" text.y0").attr("transform",k).tspans(["Date: "+h.key,"Vol: "+b.numFormat(h.value)+" acre ft","Pct Full: "+(h.value/j[0].value*100).toFixed(1)+"%","Pct of Hist. Avg: "+(h.value/r[0].mean*100).toFixed(1)+"%"]);var l="translate("+(w(i(h.key))+f.left)+","+(x(h.cap)+f.top)+")";d3.select(a+" circle.y1").attr("transform",l),d3.select(a+" text.y1").attr("transform",l).tspans(["Date: "+h.key,"Vol: "+b.numFormat(h.cap)+" acre ft"],-15)}var k=e.filter(function(a){return a.state===j}),m=crossfilter(k),n=m.dimension(function(a){return a.date}),o=n.group().reduceSum(function(a){return a.capacity}),p=o.top(1/0).sort(function(a,b){var c=a.key.split("/"),d=b.key.split("/"),e=new Date(c[1],c[0]-1),f=new Date(d[1],d[0]-1);return f>e?-1:e>f?1:0}),q=n.group().reduceSum(function(a){return a.storage}),r=q.top(1/0).sort(function(a,b){var c=a.key.split("/"),d=b.key.split("/"),e=new Date(c[1],c[0]-1),f=new Date(d[1],d[0]-1);return f>e?-1:e>f?1:0});r.forEach(function(a){a.cap=_.find(p,function(b){return a.key===b.key}).value}),r=c.histAvg(r);var s=r.filter(function(a){return a.key===l}),t=d3.sum(_.pluck(s,"value")),u=Math.round(t/p[p.length-1].value*100).toFixed(1);d3.select(a+" span").html("("+u+"% of full capacity)");var v=d3.bisector(function(a){return i(a.key)}).right,w=d3.time.scale().domain([i(d3.min(r,function(a){return a.key})),i(d3.max(r,function(a){return c.graphPadding()}))]).range([0,g]),x=d3.scale.linear().domain([d3.max(p,function(a){return a.value})+25e5,0]).range([0,h]),y=d3.svg.axis().scale(w).orient("bottom"),z=d3.svg.axis().scale(x).orient("left"),A=c.chart(a,h,g,f,y,z,"Acre Feet"),B=d3.svg.line().x(function(a){return w(i(a.key))}).y(function(a){return x(a.value)});A.append("g").append("path").attr("d",B(r)).attr("class","storage").attr("fill","none").attr("stroke","steelblue").attr("stroke-width",2).attr("transform","translate("+f.left+","+f.top+")");var C=d3.svg.line().x(function(a){return w(i(a.key))}).y(function(a){return x(a.mean)});A.append("g").append("path").attr("d",C(r)).attr("id","avg_storage").attr("fill","none").attr("stroke","#FCE883").attr("stroke-width",2).attr("stroke-dasharray",[5,5]).attr("transform","translate("+f.left+","+f.top+")"),d3.selectAll(a+"_avg").text(b.numFormat(r[0].mean.toFixed(1)));var D=c.focus(A);A.append("rect").attr("class","overlay").attr("width",g).attr("height",h).on("mouseover",function(){D.style("display",null)}).on("mouseout",function(){D.style("display","none")}).on("mousemove",d).attr("transform","translate("+f.left+","+f.top+")");var E=d3.svg.line().x(function(a){return w(i(a.key))}).y(function(a){return x(a.value)});A.append("g").append("path").attr("d",E(p)).attr("class","capacity").attr("transform","translate("+f.left+","+f.top+")")}if(a[0]){var e=a[0],j=a[1],k=moment().subtract(1,"month"),l=k.format("MM/YYYY"),m=c.displayMonth();d3.select("#date").html("(for Month Ending "+m+")"),d("CA"===j?"#ca_capacities":"#tx_capacities")}})}return{restrict:"C",link:d,scope:{data:"=",state:"@"}}}]),angular.module("westernWaterApp").directive("stateGraph",["tipService","StatsService","chartService",function(a,b,c){function d(d,e,f){var g={top:20,right:130,left:100,bottom:80},h=675-g.top-g.bottom,i=900-g.left-g.right,j=550-g.left-g.right,k=500-g.top-g.bottom,l=d3.time.format("%m/%Y").parse,m=a.tipDiv();d.$watchGroup(["map","stations","data","res","state"],function(d){function e(){I.attr("transform","translate("+d3.event.translate+")scale("+d3.event.scale+")"),d3.event.scale>2&&d3.selectAll("#map circle").attr("r",5)}function f(a){d3.event.sourceEvent.stopPropagation(),d3.select(this).attr("x",a.x=d3.event.x).attr("y",a.y=d3.event.y)}function n(a){J.domain([d3.min(a,function(a){return l(a.date)}),d3.max(a,function(a){return l(c.graphPadding())})]),K.domain([1.2*d3.max(a,function(a){return a.capacity}),0]),d3.select("g.x").transition().duration(1e3).ease("sin-in-out").call(M),d3.select("g.y").transition().duration(1e3).ease("sin-in-out").call(N),d3.select("#storage").transition().duration(1e3).ease("sin-in-out").attr("d",O(a)),d3.select("#avg_storage").transition().duration(1e3).ease("sin-in-out").attr("d",P(a)),d3.select("#capacity").transition().duration(1e3).ease("sin-in-out").attr("d",Q(a));var d=a[0];d3.select("#reservoir").text(d.reservoir),d3.selectAll("#res_avg").text(b.numFormat(a[0].mean.toFixed(1))),c.rotate()}function o(){var a=J.invert(d3.mouse(this)[0]),c=L(state_data,a,1),d=state_data[c-1],e=state_data[c];void 0===e&&(e=1/0);var f=a-d.date>e.date-a?e:d,h="translate("+(J(l(f.date))+g.left)+","+(K(f.storage)+g.top)+")";d3.select("circle.y0").attr("transform",h),d3.select("text.y0").attr("transform",h).tspans(["Date: "+f.date,"Vol: "+b.numFormat(f.storage)+" acre ft","Pct Full: "+f.pct_capacity+"%","Pct of Hist. Avg: "+(f.storage/state_data[0].mean*100).toFixed(1)+"%"]);var i="translate("+(J(l(f.date))+g.left)+","+(K(f.capacity)+g.top)+")";d3.select("#graph circle.y1").attr("transform",i),d3.select("#graph text.y1").attr("transform",i).tspans(["Date: "+f.date,"Capacity: "+b.numFormat(f.capacity)+" acre ft"],-15)}if(d[0]&&d[1]&&d[2]&&d[3]&&d[4]){var p=d[0],q=d[1],r=d[2],s=d[3],t=d[4];q=c.mapPctFull(r,q),q.sort(function(a,b){var c=+a.capacity,d=+b.capacity;return c>d?-1:d>c?1:0}),c.legend("#map_legend",!0);var u=c.displayMonth();d3.select("#map_month").html("("+u+")");var v=c.mapScale(r,t),w=r.filter(function(a){return a.reservoir===s});state_data=c.histAvg(w,"map-graph");var x=1,y=d3.geo.mercator().scale(x).translate([i/2,h/2]),z=d3.geo.centroid(p),A=d3.geo.path().projection(y),B=A.bounds(p),C=x*i/(B[1][0]-B[0][0]),D=x*h/(B[1][1]-B[0][1]);x=D>C?C:D;var E;E="id"===t?350:"utah"===t||"ca"===t?288:250,y=d3.geo.mercator().center(z).scale(x/1.15).translate([350,E]),A=A.projection(y);var F=d3.behavior.zoom().scaleExtent([1,5]).on("zoom",e),G=(d3.behavior.drag().origin(function(a){return a}).on("drag",f),d3.select("#map").append("svg").attr("height",h).attr("width",i).call(F)),H="CA"===t?0:2,I=G.append("g");I.selectAll("path").data(p.features).enter().append("path").attr("d",A),I.selectAll("circle").data(q).enter().append("circle").attr("class","map-circle").attr("cx",function(a){return y([a.lng,a.lat])[0]}).attr("cy",function(a){return y([a.lng,a.lat])[1]}).attr("r",function(a){return v(a.capacity)+H}).style("fill",function(a){return c.resColors(a.pct_capacity)}).on("click",function(a){var b=r.filter(function(b){return b.reservoir===a.reservoir});state_data=c.histAvg(b,"map-graph"),n(state_data)}).on("mouseover",function(b){var c=b.reservoir;a.tipShow(m,c),d3.select(this).attr("r",function(a){return 1.5*v(a.capacity)})}).on("mouseout",function(b){a.tipHide(m),d3.select(this).attr("r",function(a){return v(a.capacity)+H})});var J=d3.time.scale().range([0,j]);J.domain([d3.min(state_data,function(a){return l(a.date)}),d3.max(state_data,function(a){return l(c.graphPadding())})]);var K=d3.scale.linear().domain([1.2*d3.max(state_data,function(a){return a.capacity}),0]).range([0,k]),L=d3.bisector(function(a){return l(a.date)}).right,M=d3.svg.axis().scale(J).orient("bottom"),N=d3.svg.axis().scale(K).orient("left"),O=d3.svg.line().x(function(a){return J(l(a.date))}).y(function(a){return K(a.storage)}),P=d3.svg.line().x(function(a){return J(l(a.date))}).y(function(a){return K(a.mean)}),Q=d3.svg.line().x(function(a){return J(l(a.date))}).y(function(a){return K(a.capacity)});c.legend("#res_legend");var R=c.chart("#graph",k,j,g,M,N,"Acre Feet");c.rotate(),d3.selectAll("#res_avg").text(b.numFormat(state_data[0].mean.toFixed(1))),R.append("path").attr("d",O(state_data)).attr("id","storage").attr("fill","none").attr("stroke","steelblue").attr("stroke-width",2).attr("transform","translate("+g.left+","+g.top+")"),R.append("g").append("path").attr("d",P(state_data)).attr("id","avg_storage").attr("fill","none").attr("stroke","#FCE883").attr("stroke-width",2).attr("stroke-dasharray",[5,5]).attr("transform","translate("+g.left+","+g.top+")"),R.append("g").append("path").attr("d",Q(state_data)).attr("id","capacity").attr("fill","none").attr("stroke","green").attr("stroke-width",2).attr("transform","translate("+g.left+","+g.top+")");var S=c.focus(R);R.append("rect").attr("class","overlay").attr("width",j).attr("height",k).on("mouseover",function(){S.style("display",null)}).on("mouseout",function(){S.style("display","none")}).on("mousemove",o).attr("transform","translate("+g.left+","+g.top+")")}})}return{restrict:"C",link:d,scope:{map:"=",data:"=",stations:"=",res:"@",state:"@"}}}]),angular.module("westernWaterApp").directive("snowCharts",["StatsService","chartService","tipService",function(a,b,c){function d(d,e,f){{var g={top:20,right:150,left:100,bottom:80},h=1250-g.left-g.right,i=500-g.top-g.bottom,j=d3.time.format("%m/%Y").parse;c.tipDiv()}d.$watchGroup(["snowdata","state"],function(c){function d(){var a=m.invert(d3.mouse(this)[0]),b=u(l,a,1),c=l[b-1],d=l[b];void 0===d&&(d=1/0);var e=a-c.key>d.key-a?d:c,f="translate("+(m(j(e.key))+g.left)+","+(n(e.value)+g.top)+")";d3.select("#snow_level circle.y0").attr("transform",f),d3.select("#snow_level text.y0").attr("transform",f).tspans(["Date: "+e.key,"Snow Water Eqv: "+e.value.toFixed(1)+" inches","Pct of Hist. Avg: "+(e.value/l[0].mean*100).toFixed(1)+"%"])}if(c[0]){var e=c[0],f=(c[1],d3.nest().key(function(a){return a.date}).rollup(function(a){return d3.mean(a,function(a){return+a.snow_water_equivalent})}).map(e)),k=_.keys(f),l=[];k.forEach(function(a){l.push({key:a,value:f[a]})}),l=b.histAvg(l),l.sort(function(a,b){var c=a.key.split("/"),d=b.key.split("/"),e=new Date(c[1],c[0]-1),f=new Date(d[1],d[0]-1);return f>e?-1:e>f?1:0});var m=d3.time.scale().domain([d3.min(l,function(a){return j(a.key)}),d3.max(l,function(a){return j(a.key)})]).range([0,h]),n=d3.scale.linear().domain([d3.max(l,function(a){return a.value}),0]).range([0,i]),o=d3.svg.axis().scale(m).orient("bottom"),p=d3.svg.axis().scale(n).orient("left"),q=b.chart("#snow_level",i,h,g,o,p,"Snow Water Equivalent (inches)");d3.selectAll("#snow_avg").text(a.numFormat(l[0].mean.toFixed(1)));var r=d3.svg.line().x(function(a){return m(j(a.key))}).y(function(a){return n(a.value)});q.append("g").append("path").attr("d",r(l)).attr("class","snow").attr("transform","translate("+g.left+","+g.top+")");var s=d3.svg.line().x(function(a){return m(j(a.key))}).y(function(a){return n(a.mean)});q.append("g").append("path").attr("d",s(l)).attr("class","snow_avg").attr("transform","translate("+g.left+","+g.top+")").style("stroke-dasharray","5,5");var t=b.focus(q,!0);q.append("rect").attr("class","overlay").attr("width",h).attr("height",i).on("mouseover",function(){t.style("display",null)}).on("mouseout",function(){t.style("display","none")}).on("mousemove",d).attr("transform","translate("+g.left+","+g.top+")");var u=d3.bisector(function(a){return j(a.key)}).right}})}return{restrict:"C",link:d,scope:{snowdata:"=",state:"@"}}}]);
//# sourceMappingURL=output.min.js.map